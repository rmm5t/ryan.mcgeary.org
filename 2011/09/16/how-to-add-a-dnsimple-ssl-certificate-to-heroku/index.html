<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="author" content="Ryan McGeary" />
<meta name="description" content="DNSimple has some of the best prices on SSL certificates. If you have a DNSimple account, perfect, you already know how useful it is. If not, go sign up now, and then come back.The first thing to d..." />
<meta name="og:title" content="How To Add a DNSimple SSL Certificate to Heroku" />
<meta name="og:description" content="DNSimple has some of the best prices on SSL certificates. If you have a DNSimple account, perfect, you already know how useful it is. If not, go sign up now, and then come back.The first thing to d..." />
<meta name="og:site_name" content="Ryan McGeary" />
<meta name="og:image" content="http://ryan.mcgeary.org/images/ryan.mcgeary.jpg" />
<meta name="twitter:image" content="http://ryan.mcgeary.org/images/ryan.mcgeary.jpg" />
<meta name="twitter:site" content="@rmm5t" />
<meta name="twitter:creator" content="@rmm5t" />
<meta name="og:type" content="article" />
<meta name="article:published_time" content="2011-09-15T18:00:00-06:00" />
<meta name="article:tag" content="tech" />
<meta name="keywords" content="tech" />
<meta name="twitter:card" content="summary_large_image" />
<title>How To Add a DNSimple SSL Certificate to Heroku - Ryan McGeary</title>
<link rel="alternate" type="application/atom+xml" title="Ryan McGeary Blog Posts" href="http://feeds.feedburner.com/ryanmcgeary" />
<link type="image/x-icon" href="/favicon.ico" rel="icon" />
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
<!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv-printshiv.min.js" type="text/javascript"></script>
<![endif]-->
</head>
<body class='x2011 x2011_09 x2011_09_16 x2011_09_16_how-to-add-a-dnsimple-ssl-certificate-to-heroku x2011_09_16_how-to-add-a-dnsimple-ssl-certificate-to-heroku_index'>
<div id='background'></div>
<div id='photo'><img src="/images/ryan.mcgeary.png" /></div>
<header data-offset-top='15' data-spy='affix' id='masthead' role='banner'>
<p class='sr-only'><a rel="home" href="/">Ryan McGeary</a></p>
<div class='sm-controls'>
<a class="btn" data-toggle="class" data-target="#sidebar, #background, #photo, #masthead .logo" data-class="expand" href="#"><i class='fa fa-bars fa-2x'></i>
</a></div>
<div class='logo'><a href="/">Ryan McGeary</a></div>
</header>
<section id='sidebar'>
<div class='container'>
<aside>
<h2 id="about-me">About Me</h2>

<p><a href="/">Ryan McGeary</a> is a software consultant, business starter,
rubyist, web guru, CrossFit enthusiast, and amateur
triathlete. Ryan owns <a href="http://mcgearygroup.com">McGeary Consulting
Group</a> and is the founder of
<a href="http://busyconf.com">BusyConf</a> and
<a href="http://chargestack.com">ChargeStack</a>. He lives near Boulder,
Colorado.</p>

<p><a href="https://twitter.com/intent/follow?screen_name=rmm5t">Follow me</a>, <a href="https://www.linkedin.com/in/ryanmcgeary">view my
résumé</a>, or
<a href="http://feeds.feedburner.com/ryanmcgeary">subscribe</a>.</p>


</aside>
<nav>
<h2><a href="/blog/">Recent</a></h2>
<ul class='list-unstyled'>
<li>
<a href="/2015/05/22/rejuvenating-my-piece-of-the-interwebs/">Rejuvenating My Piece of the Interwebs</a>
</li>
<li>
<a href="/2015/05/12/cloud-services-you-should-be-using-to-build-your-startup/">Talk: Cloud Services You Should Be Using To Build Your Startup</a>
</li>
<li>
<a href="/2014/08/20/html5-autocomplete-cheatsheet/">HTML5 Autocomplete Cheatsheet</a>
</li>
<li>
<a href="/2014/02/19/busyconf-1-million-cups-st-pete/">Talk: The BusyConf Story</a>
</li>
<li>
<a href="/2013/12/20/interview-with-eventtech-podcast/">Interview with #EventTech Podcast</a>
</li>
<li>
<a href="/2013/12/19/continuous-integration-deployment-middleman-codeship-github-pages/">Continuous Integration and Deployment with Middleman, Codeship, and GitHub Pages</a>
</li>
</ul>
<h2><a href="/blog/">Topics</a></h2>
<ul class='list-unstyled'>
<li>
<a href="/screencasts/">screencasts</a>
</li>
<li>
<a href="/talks/">talks</a>
</li>
<li>
<a href="/programming/">programming</a>
</li>
<li>
<a href="/business/">business</a>
</li>
<li>
<a href="/tech/">tech</a>
</li>
<li>
<a href="/interviews/">interviews</a>
</li>
<li>
<a href="/podcasts/">podcasts</a>
</li>
<li>
<a href="/personal/">personal</a>
</li>
</ul>
<h2><a href="/blog/">Archive</a></h2>
<ul class='list-unstyled'>
<li>
<a href="/2015/">2015</a>
</li>
<li>
<a href="/2014/">2014</a>
</li>
<li>
<a href="/2013/">2013</a>
</li>
<li>
<a href="/2012/">2012</a>
</li>
<li>
<a href="/2011/">2011</a>
</li>
<li>
<a href="/2010/">2010</a>
</li>
<li>
<a href="/2008/">2008</a>
</li>
</ul>
</nav>
<aside>
<h2><a href="http://feeds.feedburner.com/ryanmcgeary">RSS</a></h2>
</aside>
<footer>
Copyright &copy; 2015
<br>
Ryan McGeary
<br>
All rights reserved.
</footer>
</div>
<footer></footer>
</section>
<div class='content-wrapper'>
<section id='content'>
<div class='container'><article>
<h1>
How To Add a DNSimple SSL Certificate to Heroku
<small class='text-nowrap'>Sep 16, 2011</small>
</h1>


<p><a href="https://dnsimple.com/r/fb212a64f8e1b6">DNSimple</a> has some of the best prices on SSL certificates. If you
have a DNSimple account, perfect, you already know how useful it is.  If not,
<a href="https://dnsimple.com/r/fb212a64f8e1b6">go sign up now</a>, and then come back.</p>

<h2 id="buy-an-ssl-cert-from-dnsimple">1. Buy an SSL Cert from DNSimple</h2>

<p>The first thing to do is to buy an SSL cert from <a href="https://dnsimple.com/r/fb212a64f8e1b6">DNSimple</a> (I
usually only buy wildcard certs nowadays). Go to the manage interface for the
domain that you want to buy the SSL cert, and click “Buy an SSL Certificate.”
The interface will walk you through the rest of the steps.  As long as you’re
not super paranoid, you can even let DNSimple generate the private key and
certificate signing request for you. Don’t worry, you can delete the private
key from the DNSimple servers immediately after you save it to a secure place.</p>

<p>After a few minutes, you should receive some emails with your new SSL cert (a
resulting wildcard certificate will actually come from
<a href="http://www.comodo.com/">Comodo</a>).</p>

<h2 id="build-the-public-certificate-chain-pem-file">2. Build the Public Certificate Chain PEM file</h2>

<p>Along with your SSL certificate, Comodo will send a zip file containing the Root
CA Certificate and some Intermediate CA Certificates.  Before we can upload our
certificate to Heroku, we need to concatenate these files together to form the
certificate chain.</p>

<pre class="highlight shell"><code>cat STAR_yourdomain_com.crt EssentialSSLCA_2.crt   <span class="se">\</span>
    ComodoUTNSGCCA.crt UTNAddTrustSGCCA.crt        <span class="se">\</span>
    AddTrustExternalCARoot.crt &gt; STAR_yourdomain_com-bundle.pem
</code></pre>

<p>Make sure you concatenate these files in the correct order, starting with your
cert and ending at the root cert; otherwise, Heroku will not be able to
recognize the result as a public key certificate.</p>

<p>This example shows the chain for a wildcard certificate (from Comodo). Your
chain might be different if you purchased a single subdomain certificate from
DNSimple (I think those come from RapidSSL, which might deliver root certs).</p>

<p><em>Note: To make sure Heroku can automatically start your server, you must not
have a passphrase assigned to the certficate.  If you let DNSimple do all the
work for you, you should already have a passphrase-free cert.</em></p>

<h2 id="add-the-ssl-endpoint-add-on-to-your-app">3. Add the SSL Endpoint Add-on to Your App</h2>

<pre class="highlight shell"><code>heroku addons:add ssl:endpoint
</code></pre>

<p>Read more about the
<a href="https://devcenter.heroku.com/articles/ssl-endpoint#add_the_ssl_endpoint_addon_to_your_app">SSL Endpoint Add-on</a>.</p>

<h2 id="upload-your-ssl-cert-and-private-key-to-heroku">4. Upload your SSL Cert and Private Key to Heroku</h2>

<pre class="highlight shell"><code>heroku certs:add STAR_yourdomain_com-bundle.pem STAR_yourdomain_com-private.key
</code></pre>

<p>That’s it! You can find more information and instructions on what to do after
 this from the <a href="https://devcenter.heroku.com/articles/ssl-endpoint">Heroku Dev Center</a>.</p>

<p><em>If you instead need to update an existing cert, use the <code>cert:update</code>
command. This prevents you from having to update your DNS settings:</em></p>

<pre class="highlight shell"><code>heroku certs:update STAR_yourdomain_com-bundle.pem STAR_yourdomain_com-private.key
</code></pre>



<hr>
<p>
<em>
Please
<a href="https://twitter.com/intent/tweet?hashtags=tech&amp;size=large&amp;text=How+To+Add+a+DNSimple+SSL+Certificate+to+Heroku&amp;url=http%3A%2F%2Fryan.mcgeary.org%2F2011%2F09%2F16%2Fhow-to-add-a-dnsimple-ssl-certificate-to-heroku%2F&amp;via=rmm5t">share</a>, <a href="https://twitter.com/intent/tweet?in_reply_to=114747141846609921">reply to comment</a>, or <a href="https://twitter.com/intent/retweet?tweet_id=114747141846609921">retweet</a>.
Also
<a href="https://twitter.com/intent/follow?screen_name=rmm5t">follow me</a>
for more.
</em>
</p>
<hr>
<a class="twitter-share-button" data-url="http://ryan.mcgeary.org/2011/09/16/how-to-add-a-dnsimple-ssl-certificate-to-heroku/" data-text="How To Add a DNSimple SSL Certificate to Heroku" data-via="rmm5t" data-size="large" data-hashtags="tech" href="https://twitter.com/share">Tweet</a>
<a class="twitter-follow-button" data-show-count="true" data-size="large" href="https://twitter.com/rmm5t">Follow @rmm5t</a>
<br>
<div class="g-plus" data-action="share" data-annotation="bubble" data-href="http://ryan.mcgeary.org/2011/09/16/how-to-add-a-dnsimple-ssl-certificate-to-heroku/" data-height="28"></div>


</article>
</div>
</section>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/all.js" type="text/javascript"></script>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-604149-3', 'auto');
  ga('send', 'pageview');
</script>
<script src="https://apis.google.com/js/platform.js" type="text/javascript" async="true" defer="defer"></script>
</body>
</html>
